<app-linear-page-loader></app-linear-page-loader>

<ng-template cxOutlet="cx-storefront">
  <cx-page-layout section="topBanner">
    <cx-page-slot position="SiteContext"></cx-page-slot>
  </cx-page-layout>

  <ng-template cxOutlet="cx-header">
    <header
      (click)="collapseMenuIfClickOutside($event)"
      (keydown.escape)="collapseMenu()"
      [class.is-expanded]="isExpanded$ | async"
    >
      <cx-page-layout section="header"></cx-page-layout>
      <cx-page-layout section="navigation"></cx-page-layout>
    </header>
    <cx-page-slot position="BottomHeaderSlot"></cx-page-slot>
    <dvnt-global-message></dvnt-global-message>
  </ng-template>

  <router-outlet></router-outlet>

  <ng-template cxOutlet="cx-footer">
    <footer>
      <ng-container [cxComponentWrapper]="footerComponent"></ng-container>
      <div class="install-pwa-container text-center">
        <cx-add-to-home-screen-banner></cx-add-to-home-screen-banner>
      </div>
    </footer>
  </ng-template>
</ng-template>
